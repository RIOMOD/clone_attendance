<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ thống Điểm danh - Trang chủ</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="./assets/images/favicon.ico">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>

    <!-- Modern Homepage Styles -->
    <link rel="stylesheet" href="./style-homepage-modern.css">

    <!-- Meta tags for SEO -->
    <meta name="description"
        content="Hệ thống quản lý điểm danh hiện đại với giao diện thân thiện và tính năng thông minh">
    <meta name="keywords" content="điểm danh, quản lý, sinh viên, giáo viên, thống kê">
    <meta name="author" content="CodeKing Team">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Hệ thống Điểm danh - Trang chủ">
    <meta property="og:description" content="Hệ thống quản lý điểm danh hiện đại">
    <meta property="og:type" content="website">

    <!-- Preload critical resources -->
    <link rel="preload" href="./style-homepage-modern.css" as="style">
    <link rel="preload" href="./script-homepage-modern.js" as="script">
</head>

<body>
    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <!-- Left Section -->
            <div class="header-left">
                <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="Mở menu">
                    <i class="fas fa-bars"></i>
                </button>

                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span>AttendanceHub</span>
                </div>
            </div>

            <!-- Center Search -->
            <div class="header-center">
                <div class="search-box">
                    <input type="search" id="searchInput" placeholder="Tìm kiếm trang, chức năng..." autocomplete="off">
                    <button type="submit" aria-label="Tìm kiếm">
                        <i class="fas fa-search"></i>
                    </button>
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>

            <!-- Right Actions -->
            <div class="header-right">
                <div class="header-actions">
                    <button class="action-btn" id="notificationBtn" title="Thông báo">
                        <i class="fas fa-bell"></i>
                        <span class="badge notification-badge" style="display: none;">3</span>
                    </button>

                    <a href="./pages/calendar/index.html" class="action-btn" title="Lịch học">
                        <i class="fas fa-calendar-alt"></i>
                    </a>

                    <a href="./pages/CLB/index.html" class="action-btn" title="Hoạt động CLB">
                        <i class="fas fa-users"></i>
                    </a>

                    <a href="./pages/dashboard/dashboard.html" class="action-btn" title="Dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                    </a>
                </div>

                <!-- User Menu -->
                <div class="user-menu">
                    <div class="user-avatar">
                        <img src="./assets/images/avata/avata_admin.jpg" alt="User Avatar">
                        <div class="status-indicator online"></div>
                    </div>
                    <div class="user-info">
                        <div class="user-name">Nguyễn Văn A</div>
                        <div class="user-role">Sinh viên</div>
                    </div>
                    <i class="fas fa-chevron-down dropdown-icon"></i>

                    <!-- User Dropdown -->
                    <div class="user-dropdown">
                        <div class="dropdown-section">
                            <div class="dropdown-title">Tài khoản</div>
                            <a href="./pages/profile/profile.html" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                Hồ sơ cá nhân
                            </a>
                            <a href="./pages/statistics/index.html" class="dropdown-item">
                                <i class="fas fa-chart-bar"></i>
                                Thống kê của tôi
                            </a>
                            <a href="#" class="dropdown-item" data-modal="settingsModal">
                                <i class="fas fa-cog"></i>
                                Cài đặt
                            </a>
                        </div>

                        <div class="dropdown-divider"></div>

                        <div class="dropdown-section">
                            <div class="dropdown-title">Hỗ trợ</div>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-question-circle"></i>
                                Trợ giúp
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-bug"></i>
                                Báo lỗi
                            </a>
                        </div>

                        <div class="dropdown-divider"></div>

                        <a href="./pages/authen/login-professional.html" class="dropdown-item logout">
                            <i class="fas fa-sign-out-alt"></i>
                            Đăng xuất
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <nav class="sidebar-nav">
                <!-- Main Navigation -->
                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-compass"></i>
                        Điều hướng chính
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item active">
                            <a href="./index.html" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span class="nav-text">Trang chủ</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="./pages/dashboard/dashboard.html" class="nav-link">
                                <i class="fas fa-tachometer-alt"></i>
                                <span class="nav-text">Dashboard</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="./pages/calendar/index.html" class="nav-link">
                                <i class="fas fa-calendar-alt"></i>
                                <span class="nav-text">Lịch học</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="./pages/statistics/index.html" class="nav-link">
                                <i class="fas fa-chart-bar"></i>
                                <span class="nav-text">Thống kê</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Activities -->
                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-activity"></i>
                        Hoạt động
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="./pages/CLB/index.html" class="nav-link">
                                <i class="fas fa-users"></i>
                                <span class="nav-text">Hoạt động CLB</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="./pages/operations/operations-modern.html" class="nav-link">
                                <i class="fas fa-tasks"></i>
                                <span class="nav-text">Quản lý hoạt động</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Personal -->
                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-user-circle"></i>
                        Cá nhân
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="./pages/profile/profile.html" class="nav-link">
                                <i class="fas fa-user"></i>
                                <span class="nav-text">Hồ sơ</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="./pages/statistics/personal-stats-complete.html" class="nav-link">
                                <i class="fas fa-chart-line"></i>
                                <span class="nav-text">Thống kê cá nhân</span>
                                <i class="fas fa-chevron-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Sidebar Overlay for Mobile -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="page-title">
                        <h1>
                            <i class="fas fa-home"></i>
                            Chào mừng trở lại!
                        </h1>
                        <p class="page-subtitle">Quản lý điểm danh thông minh và hiện đại</p>
                    </div>
                    <div class="page-actions">
                        <button class="btn btn-outline" data-modal="quickStatsModal">
                            <i class="fas fa-chart-bar"></i>
                            Xem thống kê
                        </button>
                        <button class="btn btn-primary" data-modal="clockInModal">
                            <i class="fas fa-clock"></i>
                            Điểm danh nhanh
                        </button>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <!-- Total Students -->
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-menu">
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="totalStudents">1,247</h3>
                            <div class="stat-label">Tổng sinh viên</div>
                            <div class="stat-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                +5.2%
                            </div>
                        </div>
                    </div>

                    <!-- Present Today -->
                    <div class="stat-card success">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="stat-menu">
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="presentToday">892</h3>
                            <div class="stat-label">Có mặt hôm nay</div>
                            <div class="stat-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                +12%
                            </div>
                        </div>
                    </div>

                    <!-- Average Attendance -->
                    <div class="stat-card warning">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="stat-menu">
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="averageAttendance">85.4%</h3>
                            <div class="stat-label">Tỷ lệ điểm danh TB</div>
                            <div class="stat-trend negative">
                                <i class="fas fa-arrow-down"></i>
                                -2.1%
                            </div>
                        </div>
                    </div>

                    <!-- Active Sessions -->
                    <div class="stat-card info">
                        <div class="stat-header">
                            <div class="stat-icon">
                                <i class="fas fa-play-circle"></i>
                            </div>
                            <div class="stat-menu">
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <div class="stat-content">
                            <h3 id="activeSessions">24</h3>
                            <div class="stat-label">Phiên hoạt động</div>
                            <div class="stat-trend positive">
                                <i class="fas fa-arrow-up"></i>
                                +15%
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dashboard Grid -->
                <div class="dashboard-grid">
                    <!-- Today's Schedule -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-calendar-day"></i>
                                Lịch học hôm nay
                            </h3>
                            <div class="card-actions">
                                <select class="select-minimal">
                                    <option>Hôm nay</option>
                                    <option>Ngày mai</option>
                                    <option>Tuần này</option>
                                </select>
                                <button class="btn-icon" title="Xem tất cả">
                                    <i class="fas fa-external-link-alt"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="schedule-list" id="scheduleList">
                                <!-- Schedule items will be loaded by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-bolt"></i>
                                Thao tác nhanh
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="quick-actions-grid">
                                <div class="quick-action-btn" data-action="clock-in">
                                    <div class="action-icon">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div class="action-content">
                                        <h4>Điểm danh</h4>
                                        <p>Điểm danh nhanh</p>
                                    </div>
                                </div>
                                <div class="quick-action-btn success" data-action="calendar">
                                    <div class="action-icon">
                                        <i class="fas fa-calendar-check"></i>
                                    </div>
                                    <div class="action-content">
                                        <h4>Lịch học</h4>
                                        <p>Xem lịch học</p>
                                    </div>
                                </div>
                                <div class="quick-action-btn warning" data-action="clubs">
                                    <div class="action-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <div class="action-content">
                                        <h4>Hoạt động CLB</h4>
                                        <p>Tham gia CLB</p>
                                    </div>
                                </div>
                                <div class="quick-action-btn info" data-action="profile">
                                    <div class="action-icon">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <div class="action-content">
                                        <h4>Hồ sơ</h4>
                                        <p>Xem hồ sơ</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Time Tracking -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-stopwatch"></i>
                                Theo dõi thời gian
                            </h3>
                            <div class="card-actions">
                                <button class="btn-icon" title="Cài đặt">
                                    <i class="fas fa-cog"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="time-display">
                                <div class="current-session">
                                    <div class="session-timer" id="sessionTimer">00:00:00</div>
                                    <div class="session-label" id="sessionLabel">Chưa bắt đầu</div>
                                </div>

                                <div class="time-controls">
                                    <button class="time-btn" id="startBtn">
                                        <i class="fas fa-play"></i>
                                        <span>Bắt đầu</span>
                                    </button>
                                    <button class="time-btn" id="pauseBtn" style="display: none;">
                                        <i class="fas fa-pause"></i>
                                        <span>Tạm dừng</span>
                                    </button>
                                    <button class="time-btn" id="stopBtn" style="display: none;">
                                        <i class="fas fa-stop"></i>
                                        <span>Dừng</span>
                                    </button>
                                </div>

                                <div class="time-summary">
                                    <div class="time-stat">
                                        <div class="stat-label">Hôm nay</div>
                                        <div class="stat-value" id="todayHours">0.0h</div>
                                    </div>
                                    <div class="time-stat">
                                        <div class="stat-label">Tuần này</div>
                                        <div class="stat-value" id="weekHours">0.0h</div>
                                    </div>
                                    <div class="time-stat">
                                        <div class="stat-label">Tháng này</div>
                                        <div class="stat-value" id="monthHours">0.0h</div>
                                    </div>
                                </div>

                                <div class="status-indicator" id="statusIndicator">
                                    <i class="fas fa-pause-circle"></i>
                                    Tạm nghỉ
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-history"></i>
                                Hoạt động gần đây
                            </h3>
                            <div class="card-actions">
                                <button class="btn-text">Xem tất cả</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="activity-list" id="activityList">
                                <!-- Activity items will be loaded by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Attendance Chart -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-chart-line"></i>
                                Biểu đồ điểm danh
                            </h3>
                            <div class="card-actions">
                                <select class="select-minimal">
                                    <option>7 ngày qua</option>
                                    <option>30 ngày qua</option>
                                    <option>3 tháng qua</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="chart-container">
                                <canvas id="attendanceChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Weather & Campus Info -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-cloud-sun"></i>
                                Thông tin trường học
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="weather-info">
                                <div class="weather-current">
                                    <div class="weather-icon">
                                        <i class="fas fa-sun"></i>
                                    </div>
                                    <div class="weather-details">
                                        <h3>28°C</h3>
                                        <p>Nắng đẹp</p>
                                    </div>
                                </div>

                                <div class="campus-stats">
                                    <div class="campus-stat">
                                        <i class="fas fa-building"></i>
                                        <div>
                                            <span>15</span>
                                            <span class="stat-label">Tòa nhà</span>
                                        </div>
                                    </div>
                                    <div class="campus-stat">
                                        <i class="fas fa-chalkboard-teacher"></i>
                                        <div>
                                            <span>127</span>
                                            <span class="stat-label">Phòng học</span>
                                        </div>
                                    </div>
                                    <div class="campus-stat">
                                        <i class="fas fa-user-tie"></i>
                                        <div>
                                            <span>89</span>
                                            <span class="stat-label">Giảng viên</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Notification Panel -->
        <div class="notification-panel" id="notificationPanel">
            <div class="notification-header">
                <h3>Thông báo</h3>
                <button class="btn-text">Đánh dấu đã đọc</button>
            </div>
            <div class="notification-list">
                <!-- Notifications will be loaded by JavaScript -->
            </div>
        </div>

        <!-- Modals -->
        <!-- Clock In Modal -->
        <div class="modal-overlay" id="clockInModal">
            <div class="modal-container">
                <div class="modal-header">
                    <h3>Điểm danh nhanh</h3>
                    <button class="modal-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-content">
                    <div class="empty-state">
                        <i class="fas fa-clock"></i>
                        <h4>Điểm danh nhanh</h4>
                        <p>Chức năng điểm danh nhanh đang được phát triển</p>
                        <button class="btn btn-primary">Điểm danh</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Stats Modal -->
        <div class="modal-overlay" id="quickStatsModal">
            <div class="modal-container">
                <div class="modal-header">
                    <h3>Thống kê nhanh</h3>
                    <button class="modal-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-content">
                    <div class="empty-state">
                        <i class="fas fa-chart-bar"></i>
                        <h4>Thống kê chi tiết</h4>
                        <p>Xem thống kê chi tiết về điểm danh và hoạt động</p>
                        <button class="btn btn-primary" onclick="window.location.href='./pages/statistics/index.html'">
                            Xem chi tiết
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal-overlay" id="settingsModal">
            <div class="modal-container">
                <div class="modal-header">
                    <h3>Cài đặt</h3>
                    <button class="modal-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-content">
                    <div class="empty-state">
                        <i class="fas fa-cog"></i>
                        <h4>Cài đặt hệ thống</h4>
                        <p>Tùy chỉnh giao diện và chức năng theo ý muốn</p>
                        <button class="btn btn-primary">Lưu cài đặt</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./script-homepage-modern.js"></script>

    <!-- Additional Scripts for Enhanced Functionality -->
    <script>
        // Performance monitoring
        window.addEventListener('load', () => {
            if (performance.getEntriesByType) {
                const paintMetrics = performance.getEntriesByType('paint');
                paintMetrics.forEach(metric => {
                    console.log(`${metric.name}: ${Math.round(metric.startTime)}ms`);
                });
            }
        });

        // Error handling
        window.addEventListener('error', (e) => {
            console.error('JavaScript Error:', {
                message: e.message,
                filename: e.filename,
                line: e.lineno,
                column: e.colno,
                error: e.error
            });
        });

        // Theme detection
        if (window.matchMedia) {
            const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
            const handleThemeChange = (e) => {
                // Future: Handle dark mode toggle
                console.log('Theme preference:', e.matches ? 'dark' : 'light');
            };

            mediaQuery.addListener(handleThemeChange);
            handleThemeChange(mediaQuery);
        }
    </script>
</body>

</html>