<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light">
    <title>Sự kiện CLB - Hệ thống Điểm danh</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon.ico">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Modern Light Mode Stylesheets -->
    <link rel="stylesheet" href="../../pages/dashboard/dashboard-modern.css">
    <link rel="stylesheet" href="clb-dashboard-sync.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Meta tags -->
    <meta name="description"
        content="Quản lý sự kiện câu lạc bộ sinh viên CTSV - Tổ chức, quản lý và theo dõi các hoạt động CLB">
    <meta name="keywords" content="sự kiện, câu lạc bộ, sinh viên, hoạt động, CLB, CTSV">
    <meta name="author" content="CodeKing Team">
    <link rel="icon" type="image/x-icon" href="../../assets/images/imageCLB/LOGO_CODEKING/LOGO CODEKING.png">
</head>

<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <!-- Left Section -->
            <div class="header-left">
                <button class="mobile-menu-btn" id="mobileMenuBtn" title="Menu">
                    <i class="fas fa-bars"></i>
                </button>

                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span>CTSV Dashboard</span>
                </div>
            </div>

            <!-- Center Search -->
            <div class="header-center">
                <div class="search-box">
                    <input type="text" id="globalSearch" placeholder="Tìm kiếm sự kiện, CLB..." autocomplete="off">
                    <button type="button" id="searchBtn" title="Tìm kiếm">
                        <i class="fas fa-search"></i>
                    </button>
                    <div class="search-results" id="searchResults">
                        <!-- Search results sẽ được populate động -->
                    </div>
                </div>
            </div>

            <!-- Right Actions -->
            <div class="header-right">
                <div class="header-actions">
                    <!-- Theme Toggle -->
                    <button class="action-btn" id="themeToggle" title="Chế độ Light Mode (đã kích hoạt)">
                        <i class="fas fa-sun"></i>
                    </button>

                    <!-- Quick Actions -->
                    <button class="action-btn" id="quickAdd" title="Thêm nhanh">
                        <i class="fas fa-plus"></i>
                    </button>

                    <!-- Notifications -->
                    <button class="action-btn" id="notificationBtn" title="Thông báo">
                        <i class="fas fa-bell"></i>
                        <span class="badge" id="notificationBadge">5</span>
                    </button>

                    <!-- Messages -->
                    <button class="action-btn" id="messageBtn" title="Tin nhắn">
                        <i class="fas fa-comment"></i>
                        <span class="badge" id="messageBadge">3</span>
                    </button>

                    <!-- Settings -->
                    <button class="action-btn" id="settingsBtn" title="Cài đặt nhanh">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>

                <!-- Enhanced User Menu -->
                <div class="user-menu" id="userMenu">
                    <img src="../../assets/images/avata/avata_admin.jpg" alt="User Avatar" class="user-avatar">
                    <div class="user-info">
                        <span class="user-name">Admin User</span>
                        <span class="user-role">Quản trị viên</span>
                    </div>
                    <i class="fas fa-chevron-down"></i>

                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-header">
                            <img src="../../assets/images/avata/avata_admin.jpg" alt="Avatar">
                            <div>
                                <div class="dropdown-name">Admin User</div>
                                <div class="dropdown-email">admin@ctsv.edu.vn</div>
                            </div>
                        </div>
                        <div class="dropdown-divider"></div>

                        <a href="../profile/profile.html">
                            <i class="fas fa-user"></i> Hồ sơ cá nhân
                        </a>
                        <button type="button" onclick="dashboard.openSettings()">
                            <i class="fas fa-cog"></i> Cài đặt tài khoản
                        </button>
                        <button type="button" onclick="dashboard.viewNotifications()">
                            <i class="fas fa-bell"></i> Quản lý thông báo
                        </button>
                        <button type="button" onclick="dashboard.openHelp()">
                            <i class="fas fa-question-circle"></i> Trợ giúp
                        </button>

                        <div class="dropdown-divider"></div>

                        <button type="button" onclick="dashboard.switchAccount()">
                            <i class="fas fa-user-friends"></i> Chuyển tài khoản
                        </button>
                        <a href="../authen/login-professional.html" class="logout-btn">
                            <i class="fas fa-sign-out-alt"></i> Đăng xuất
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <div class="dashboard-main">
            <!-- Modern Sidebar Navigation -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-logo">
                        <i class="fas fa-graduation-cap"></i>
                        <span class="logo-text">CTSV Dashboard</span>
                    </div>
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <i class="fas fa-angle-left"></i>
                    </button>
                </div>

                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <div class="nav-section-title">Dashboard</div>
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="../dashboard/dashboard.html" class="nav-link">
                                    <i class="nav-icon fas fa-chart-line"></i>
                                    <span class="nav-text">Dashboard</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">CLB & Sự kiện</div>
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="index.html" class="nav-link">
                                    <i class="nav-icon fas fa-users"></i>
                                    <span class="nav-text">Danh sách CLB</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="club-members.html" class="nav-link">
                                    <i class="nav-icon fas fa-user-friends"></i>
                                    <span class="nav-text">Thành viên CLB</span>
                                </a>
                            </li>
                            <li class="nav-item active">
                                <a href="club-events.html" class="nav-link active">
                                    <i class="nav-icon fas fa-calendar-alt"></i>
                                    <span class="nav-text">Sự kiện CLB</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="club-organizers.html" class="nav-link">
                                    <i class="nav-icon fas fa-user-tie"></i>
                                    <span class="nav-text">Ban tổ chức</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Thống kê & Báo cáo</div>
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="../statistics/index.html" class="nav-link">
                                    <i class="nav-icon fas fa-chart-bar"></i>
                                    <span class="nav-text">Thống kê tổng quan</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="../operations/operations.html" class="nav-link">
                                    <i class="nav-icon fas fa-cogs"></i>
                                    <span class="nav-text">Vận hành hệ thống</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Lịch trình</div>
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="../calendar/index.html" class="nav-link">
                                    <i class="nav-icon fas fa-calendar"></i>
                                    <span class="nav-text">Lịch công tác</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="../calendar/personal-calendar.html" class="nav-link">
                                    <i class="nav-icon fas fa-calendar-check"></i>
                                    <span class="nav-text">Lịch cá nhân</span>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Cá nhân</div>
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a href="../profile/profile.html" class="nav-link">
                                    <i class="nav-icon fas fa-user"></i>
                                    <span class="nav-text">Hồ sơ cá nhân</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="../../index.html" class="nav-link">
                                    <i class="nav-icon fas fa-home"></i>
                                    <span class="nav-text">Trang chủ</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="../authen/login-professional.html" class="nav-link">
                                    <i class="nav-icon fas fa-sign-out-alt"></i>
                                    <span class="nav-text">Đăng xuất</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </aside>

            <!-- Sidebar Overlay for Mobile -->
            <div class="sidebar-overlay" id="sidebarOverlay"></div>

            <!-- Enhanced Content -->
            <main class="content">
                <div class="page-header">
                    <h1><i class="fas fa-calendar-alt"></i> Quản lý Sự kiện CLB</h1>
                    <p>Tổ chức và theo dõi các sự kiện hoạt động của câu lạc bộ sinh viên CTSV</p>
                </div>

                <!-- Dashboard Controls -->
                <div class="dashboard-controls">
                    <div class="controls-left">
                        <div class="date-selector">
                            <select id="eventPeriod">
                                <option value="all">Tất cả thời gian</option>
                                <option value="this-week" selected>Tuần này</option>
                                <option value="this-month">Tháng này</option>
                                <option value="upcoming">Sắp tới</option>
                                <option value="past">Đã qua</option>
                            </select>
                        </div>
                        <div class="filter-selector">
                            <select id="clubFilter">
                                <option value="">Tất cả CLB</option>
                                <option value="technology">CLB Công nghệ</option>
                                <option value="sport">CLB Thể thao</option>
                                <option value="art">CLB Nghệ thuật</option>
                                <option value="volunteer">CLB Tình nguyện</option>
                                <option value="academic">CLB Học thuật</option>
                            </select>
                        </div>
                        <div class="status-selector">
                            <select id="statusFilter">
                                <option value="">Tất cả trạng thái</option>
                                <option value="upcoming">Sắp diễn ra</option>
                                <option value="ongoing">Đang diễn ra</option>
                                <option value="completed">Đã hoàn thành</option>
                                <option value="cancelled">Đã hủy</option>
                            </select>
                        </div>
                    </div>
                    <div class="controls-right">
                        <button class="btn-control" id="refreshEvents">
                            <i class="fas fa-sync"></i> Làm mới
                        </button>
                        <button class="btn-control view-toggle" id="calendarView" title="Xem lịch">
                            <i class="fas fa-calendar-week"></i>
                        </button>
                        <button class="btn-control view-toggle active" id="listView" title="Xem danh sách">
                            <i class="fas fa-list"></i>
                        </button>
                        <button class="btn-control export-btn" data-type="pdf">
                            <i class="fas fa-file-pdf"></i> PDF
                        </button>
                        <button class="btn-control export-btn" data-type="excel">
                            <i class="fas fa-file-excel"></i> Excel
                        </button>
                        <button class="btn-control primary" onclick="eventsManager.openCreateEventModal()">
                            <i class="fas fa-plus"></i> Tạo sự kiện
                        </button>
                    </div>
                </div>

                <!-- Enhanced Stats Section -->
                <div class="dashboard-stats">
                    <div class="stat-card primary" data-stat="totalEvents">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>47</h3>
                            <p>Tổng sự kiện</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-arrow-up"></i>
                            <span>+12 tháng này</span>
                        </div>
                    </div>

                    <div class="stat-card success" data-stat="upcomingEvents">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>15</h3>
                            <p>Sắp diễn ra</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-calendar-check"></i>
                            <span>7 ngày tới</span>
                        </div>
                    </div>

                    <div class="stat-card warning" data-stat="ongoingEvents">
                        <div class="stat-icon">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3>3</h3>
                            <p>Đang diễn ra</p>
                        </div>
                        <div class="stat-trend stable">
                            <i class="fas fa-users"></i>
                            <span>850+ tham gia</span>
                        </div>
                    </div>

                    <div class="stat-card info" data-stat="participants">
                        <div class="stat-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <div class="stat-info">
                            <h3>2.3K</h3>
                            <p>Lượt tham gia</p>
                        </div>
                        <div class="stat-trend up">
                            <i class="fas fa-chart-line"></i>
                            <span>Tăng 24%</span>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions Section -->
                <div class="quick-actions-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h3>
                                <i class="fas fa-bolt"></i>
                                Quản lý sự kiện
                            </h3>
                            <p>Các chức năng thường dùng để tổ chức và quản lý sự kiện CLB</p>
                        </div>

                        <div class="quick-actions-grid">
                            <button class="quick-action-card" onclick="eventsManager.openCreateEventModal()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-plus-circle"></i>
                                </div>
                                <div class="quick-action-title">Tạo sự kiện mới</div>
                                <div class="quick-action-description">Tổ chức sự kiện cho CLB</div>
                            </button>

                            <button class="quick-action-card" onclick="eventsManager.openEventTemplates()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-copy"></i>
                                </div>
                                <div class="quick-action-title">Mẫu sự kiện</div>
                                <div class="quick-action-description">Sử dụng template có sẵn</div>
                            </button>

                            <button class="quick-action-card" onclick="eventsManager.viewAttendanceReport()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="quick-action-title">Báo cáo tham gia</div>
                                <div class="quick-action-description">Thống kê và phân tích</div>
                            </button>

                            <button class="quick-action-card" onclick="eventsManager.manageRegistrations()">
                                <div class="quick-action-icon">
                                    <i class="fas fa-user-check"></i>
                                </div>
                                <div class="quick-action-title">Quản lý đăng ký</div>
                                <div class="quick-action-description">Duyệt đăng ký tham gia</div>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Events Calendar/List View -->
                <div class="events-view-container">
                    <!-- Calendar View -->
                    <div class="calendar-view" id="calendarViewContainer" style="display: none;">
                        <div class="section-card">
                            <div class="section-header">
                                <h3><i class="fas fa-calendar-week"></i> Lịch sự kiện</h3>
                                <div class="calendar-navigation">
                                    <button class="btn-nav" id="prevMonth">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <span class="current-month" id="currentMonth">Tháng 12, 2024</span>
                                    <button class="btn-nav" id="nextMonth">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="calendar-container">
                                <div class="calendar-grid" id="calendarGrid">
                                    <!-- Calendar will be generated here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- List View -->
                    <div class="list-view" id="listViewContainer">
                        <div class="section-card">
                            <div class="section-header">
                                <h3><i class="fas fa-list"></i> Danh sách sự kiện</h3>
                                <div class="section-actions">
                                    <button class="btn-filter" id="eventsFilter" title="Lọc sự kiện">
                                        <i class="fas fa-filter"></i>
                                    </button>
                                    <button class="btn-sort" id="eventsSort" title="Sắp xếp">
                                        <i class="fas fa-sort"></i>
                                    </button>
                                    <button class="btn-refresh" id="refreshEventsList" title="Làm mới">
                                        <i class="fas fa-sync"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Advanced Filters -->
                            <div class="activity-filters" id="eventsFilterSection" style="display: none;">
                                <div class="filter-group">
                                    <label for="eventTypeFilter">Loại sự kiện:</label>
                                    <select id="eventTypeFilter">
                                        <option value="">Tất cả loại</option>
                                        <option value="workshop">Workshop</option>
                                        <option value="seminar">Hội thảo</option>
                                        <option value="competition">Thi đấu</option>
                                        <option value="social">Giao lưu</option>
                                        <option value="volunteer">Tình nguyện</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="locationFilter">Địa điểm:</label>
                                    <select id="locationFilter">
                                        <option value="">Tất cả địa điểm</option>
                                        <option value="campus">Trong trường</option>
                                        <option value="outside">Ngoài trường</option>
                                        <option value="online">Trực tuyến</option>
                                        <option value="hybrid">Kết hợp</option>
                                    </select>
                                </div>
                                <div class="filter-group">
                                    <label for="capacityFilter">Quy mô:</label>
                                    <select id="capacityFilter">
                                        <option value="">Tất cả quy mô</option>
                                        <option value="small">Nhỏ (< 50)</option>
                                        <option value="medium">Vừa (50-200)</option>
                                        <option value="large">Lớn (200+)</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Events Grid -->
                            <div class="events-container">
                                <div class="events-grid" id="eventsGrid">
                                    <!-- Event cards will be populated here -->
                                    <div class="event-card upcoming">
                                        <div class="event-header">
                                            <div class="event-date">
                                                <div class="date-day">25</div>
                                                <div class="date-month">TH12</div>
                                            </div>
                                            <div class="event-status upcoming">
                                                <i class="fas fa-clock"></i>
                                                <span>Sắp diễn ra</span>
                                            </div>
                                        </div>

                                        <div class="event-content">
                                            <div class="event-club">
                                                <i class="fas fa-users"></i>
                                                <span>CLB Công nghệ</span>
                                            </div>
                                            <h4 class="event-title">Workshop React Advanced</h4>
                                            <p class="event-description">
                                                Học hỏi các kỹ thuật nâng cao trong React: Hooks, Context API,
                                                Performance Optimization
                                            </p>

                                            <div class="event-details">
                                                <div class="detail-item">
                                                    <i class="fas fa-calendar"></i>
                                                    <span>25/12/2024, 14:00 - 17:00</span>
                                                </div>
                                                <div class="detail-item">
                                                    <i class="fas fa-map-marker-alt"></i>
                                                    <span>Phòng 301, Tòa C1</span>
                                                </div>
                                                <div class="detail-item">
                                                    <i class="fas fa-users"></i>
                                                    <span>45/60 người tham gia</span>
                                                </div>
                                            </div>

                                            <div class="event-tags">
                                                <span class="tag workshop">Workshop</span>
                                                <span class="tag technology">Công nghệ</span>
                                            </div>
                                        </div>

                                        <div class="event-actions">
                                            <button class="btn-action view" onclick="eventsManager.viewEvent('evt1')"
                                                title="Xem chi tiết">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-action edit" onclick="eventsManager.editEvent('evt1')"
                                                title="Chỉnh sửa">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn-action participants"
                                                onclick="eventsManager.manageParticipants('evt1')"
                                                title="Quản lý tham gia">
                                                <i class="fas fa-user-friends"></i>
                                            </button>
                                            <button class="btn-action share" onclick="eventsManager.shareEvent('evt1')"
                                                title="Chia sẻ">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="event-card ongoing">
                                        <div class="event-header">
                                            <div class="event-date">
                                                <div class="date-day">20</div>
                                                <div class="date-month">TH12</div>
                                            </div>
                                            <div class="event-status ongoing">
                                                <i class="fas fa-play"></i>
                                                <span>Đang diễn ra</span>
                                            </div>
                                        </div>

                                        <div class="event-content">
                                            <div class="event-club">
                                                <i class="fas fa-users"></i>
                                                <span>CLB Thể thao</span>
                                            </div>
                                            <h4 class="event-title">Giải bóng đá CTSV Cup</h4>
                                            <p class="event-description">
                                                Giải bóng đá thường niên của CTSV với sự tham gia của các CLB và lớp học
                                            </p>

                                            <div class="event-details">
                                                <div class="detail-item">
                                                    <i class="fas fa-calendar"></i>
                                                    <span>20-22/12/2024</span>
                                                </div>
                                                <div class="detail-item">
                                                    <i class="fas fa-map-marker-alt"></i>
                                                    <span>Sân bóng CTSV</span>
                                                </div>
                                                <div class="detail-item">
                                                    <i class="fas fa-users"></i>
                                                    <span>320 vận động viên</span>
                                                </div>
                                            </div>

                                            <div class="event-tags">
                                                <span class="tag competition">Thi đấu</span>
                                                <span class="tag sport">Thể thao</span>
                                            </div>
                                        </div>

                                        <div class="event-actions">
                                            <button class="btn-action view" onclick="eventsManager.viewEvent('evt2')"
                                                title="Xem chi tiết">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-action live" onclick="eventsManager.goLive('evt2')"
                                                title="Theo dõi trực tiếp">
                                                <i class="fas fa-broadcast-tower"></i>
                                            </button>
                                            <button class="btn-action participants"
                                                onclick="eventsManager.manageParticipants('evt2')"
                                                title="Quản lý tham gia">
                                                <i class="fas fa-user-friends"></i>
                                            </button>
                                            <button class="btn-action share" onclick="eventsManager.shareEvent('evt2')"
                                                title="Chia sẻ">
                                                <i class="fas fa-share-alt"></i>
                                            </button>
                                        </div>
                                    </div>

                                    <div class="event-card completed">
                                        <div class="event-header">
                                            <div class="event-date">
                                                <div class="date-day">15</div>
                                                <div class="date-month">TH12</div>
                                            </div>
                                            <div class="event-status completed">
                                                <i class="fas fa-check-circle"></i>
                                                <span>Đã hoàn thành</span>
                                            </div>
                                        </div>

                                        <div class="event-content">
                                            <div class="event-club">
                                                <i class="fas fa-users"></i>
                                                <span>CLB Nghệ thuật</span>
                                            </div>
                                            <h4 class="event-title">Đêm nhạc "Những Khúc Hát Tuổi Trẻ"</h4>
                                            <p class="event-description">
                                                Đêm nhạc đầy cảm xúc với sự tham gia của các nghệ sĩ trẻ và sinh viên
                                                CTSV
                                            </p>

                                            <div class="event-details">
                                                <div class="detail-item">
                                                    <i class="fas fa-calendar"></i>
                                                    <span>15/12/2024, 19:00 - 21:30</span>
                                                </div>
                                                <div class="detail-item">
                                                    <i class="fas fa-map-marker-alt"></i>
                                                    <span>Hội trường A</span>
                                                </div>
                                                <div class="detail-item">
                                                    <i class="fas fa-users"></i>
                                                    <span>500 người tham dự</span>
                                                </div>
                                            </div>

                                            <div class="event-tags">
                                                <span class="tag social">Giao lưu</span>
                                                <span class="tag art">Nghệ thuật</span>
                                            </div>

                                            <div class="event-rating">
                                                <div class="rating-stars">
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star"></i>
                                                    <i class="fas fa-star-half-alt"></i>
                                                </div>
                                                <span class="rating-score">4.8/5.0</span>
                                                <span class="rating-count">(124 đánh giá)</span>
                                            </div>
                                        </div>

                                        <div class="event-actions">
                                            <button class="btn-action view" onclick="eventsManager.viewEvent('evt3')"
                                                title="Xem chi tiết">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-action report" onclick="eventsManager.viewReport('evt3')"
                                                title="Xem báo cáo">
                                                <i class="fas fa-chart-line"></i>
                                            </button>
                                            <button class="btn-action feedback"
                                                onclick="eventsManager.viewFeedback('evt3')" title="Phản hồi">
                                                <i class="fas fa-comments"></i>
                                            </button>
                                            <button class="btn-action copy"
                                                onclick="eventsManager.duplicateEvent('evt3')" title="Tạo bản sao">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Event Analytics Section -->
                <div class="analytics-section">
                    <div class="section-card">
                        <div class="section-header">
                            <h3><i class="fas fa-chart-line"></i> Thống kê sự kiện</h3>
                            <div class="chart-controls">
                                <select id="chartPeriod">
                                    <option value="week">7 ngày qua</option>
                                    <option value="month" selected>30 ngày qua</option>
                                    <option value="quarter">3 tháng qua</option>
                                    <option value="year">12 tháng qua</option>
                                </select>
                            </div>
                        </div>

                        <div class="analytics-grid">
                            <div class="chart-container">
                                <h4>Lượt tham gia theo thời gian</h4>
                                <canvas id="participationChart"></canvas>
                            </div>
                            <div class="chart-container">
                                <h4>Phân bố sự kiện theo CLB</h4>
                                <canvas id="clubEventsChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Sidebar Overlay for Mobile -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- Notification Panel -->
        <div class="notification-panel" id="notificationPanel">
            <div class="notification-header">
                <h3>Thông báo CLB</h3>
                <button class="notification-close" onclick="closeNotificationPanel()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="notification-list">
                <div class="notification-item unread">
                    <div class="notification-item-icon success">
                        <i class="fas fa-calendar-plus"></i>
                    </div>
                    <div class="notification-item-content">
                        <div class="notification-item-title">Sự kiện mới</div>
                        <div class="notification-item-message">3 sự kiện mới được thêm trong tuần này</div>
                        <div class="notification-item-time">
                            <i class="fas fa-clock"></i>
                            45 phút trước
                        </div>
                    </div>
                </div>

                <div class="notification-item">
                    <div class="notification-item-icon primary">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="notification-item-content">
                        <div class="notification-item-title">Sự kiện sắp diễn ra</div>
                        <div class="notification-item-message">Workshop React Advanced - 25/12/2024</div>
                        <div class="notification-item-time">
                            <i class="fas fa-clock"></i>
                            1 giờ trước
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Event Modal -->
    <div class="modal" id="createEventModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3><i class="fas fa-plus-circle"></i> Tạo sự kiện mới</h3>
                <button class="modal-close" onclick="eventsManager.closeModal('createEventModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="createEventForm" class="event-form">
                    <div class="form-section">
                        <h4><i class="fas fa-info-circle"></i> Thông tin cơ bản</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventTitle">Tên sự kiện *</label>
                                <input type="text" id="eventTitle" name="title" required placeholder="Nhập tên sự kiện">
                            </div>
                            <div class="form-group">
                                <label for="eventClub">Câu lạc bộ *</label>
                                <select id="eventClub" name="club" required>
                                    <option value="">Chọn CLB</option>
                                    <option value="technology">CLB Công nghệ</option>
                                    <option value="sport">CLB Thể thao</option>
                                    <option value="art">CLB Nghệ thuật</option>
                                    <option value="volunteer">CLB Tình nguyện</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="eventDescription">Mô tả sự kiện</label>
                            <textarea id="eventDescription" name="description" rows="4"
                                placeholder="Mô tả chi tiết về sự kiện"></textarea>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-calendar"></i> Thời gian & Địa điểm</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventStartDate">Ngày bắt đầu *</label>
                                <input type="date" id="eventStartDate" name="startDate" required>
                            </div>
                            <div class="form-group">
                                <label for="eventStartTime">Giờ bắt đầu *</label>
                                <input type="time" id="eventStartTime" name="startTime" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventEndDate">Ngày kết thúc</label>
                                <input type="date" id="eventEndDate" name="endDate">
                            </div>
                            <div class="form-group">
                                <label for="eventEndTime">Giờ kết thúc</label>
                                <input type="time" id="eventEndTime" name="endTime">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventLocation">Địa điểm *</label>
                                <input type="text" id="eventLocation" name="location" required
                                    placeholder="Phòng, tòa nhà, địa chỉ">
                            </div>
                            <div class="form-group">
                                <label for="eventType">Loại sự kiện</label>
                                <select id="eventType" name="type">
                                    <option value="workshop">Workshop</option>
                                    <option value="seminar">Hội thảo</option>
                                    <option value="competition">Thi đấu</option>
                                    <option value="social">Giao lưu</option>
                                    <option value="volunteer">Tình nguyện</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-users"></i> Tham gia & Đăng ký</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="eventCapacity">Số lượng tối đa</label>
                                <input type="number" id="eventCapacity" name="capacity"
                                    placeholder="Không giới hạn để trống">
                            </div>
                            <div class="form-group">
                                <label for="registrationDeadline">Hạn đăng ký</label>
                                <input type="datetime-local" id="registrationDeadline" name="registrationDeadline">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="requireRegistration" name="requireRegistration" checked>
                                <span>Yêu cầu đăng ký trước</span>
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="allowGuestRegistration" name="allowGuestRegistration">
                                <span>Cho phép khách mời đăng ký</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4><i class="fas fa-image"></i> Hình ảnh & Tài liệu</h4>
                        <div class="form-group">
                            <label for="eventImage">Ảnh sự kiện</label>
                            <div class="file-upload">
                                <input type="file" id="eventImage" name="image" accept="image/*">
                                <div class="upload-area">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Kéo thả ảnh vào đây hoặc nhấn để chọn</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-cancel"
                    onclick="eventsManager.closeModal('createEventModal')">Hủy</button>
                <button type="button" class="btn-secondary" onclick="eventsManager.saveEventDraft()">Lưu
                    nháp</button>
                <button type="submit" form="createEventForm" class="btn-primary">
                    <i class="fas fa-save"></i> Tạo sự kiện
                </button>
            </div>
        </div>
    </div>

    <!-- Event Details Modal -->
    <div class="modal" id="eventDetailsModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-alt"></i> Chi tiết sự kiện</h3>
                <button class="modal-close" onclick="eventsManager.closeModal('eventDetailsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div id="eventDetailsContent">
                    <!-- Content will be populated dynamically -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="eventsManager.editCurrentEvent()">
                    <i class="fas fa-edit"></i> Chỉnh sửa
                </button>
                <button type="button" class="btn-cancel"
                    onclick="eventsManager.closeModal('eventDetailsModal')">Đóng</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Đang xử lý...</p>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>
    </div>

    <!-- Scripts -->
    <script src="../../pages/dashboard/dashboard-clean.js"></script>
    <script src="clb-dashboard-sync.js"></script>

    <!-- Additional initialization -->
    <script>
        // Performance monitoring
        window.addEventListener('load', () => {
            if (performance.getEntriesByType) {
                const paintMetrics = performance.getEntriesByType('paint');
                paintMetrics.forEach(metric => {
                    console.log(`${metric.name}: ${Math.round(metric.startTime)}ms`);
                });
            }
        });

        // Error handling
        window.addEventListener('error', (e) => {
            console.error('JavaScript Error:', {
                message: e.message,
                filename: e.filename,
                line: e.lineno,
                column: e.colno,
                error: e.error
            });
        });

        // Page-specific initialization
        document.addEventListener('DOMContentLoaded', () => {
            // Update page title and meta
            document.title = 'Sự kiện CLB - AttendanceHub';

            // Set active navigation
            const currentNavItem = document.querySelector('.nav-item.active .nav-link');
            if (currentNavItem) {
                currentNavItem.setAttribute('aria-current', 'page');
            }

            console.log('✅ Club Events page loaded successfully');
        });
    </script>
</body>

</html>