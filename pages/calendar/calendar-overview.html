<!DOCTYPE html>
<html lang="vi">

<head>
    <!-- ===== TH√îNG TIN META V√Ä C·∫§U H√åNH TRANG ===== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·ªãch T·ªïng Quan - H·ªá th·ªëng ch·∫•m c√¥ng CTSV</title>

    <!-- Early compatibility & safe storage -->
    <script src="../../assets/js/compat.js" defer></script>
    <script src="../../utils/storage-safe.js" defer></script>

    <!-- ===== LI√äN K·∫æT CSS V√Ä FONT ===== -->
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../../assets/css/profile-avatar-fix.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- External CSS Files -->
    <link rel="stylesheet" href="../../assets/css/pwa-features.css">
    <link rel="stylesheet" href="../../assets/css/avatar-fix.css">
    <link rel="stylesheet" href="../../assets/css/calendar-overview.css">
    <link rel="stylesheet" href="../../assets/css/responsive.css">
    <link rel="stylesheet" href="../../assets/css/responsive-desktop.css">

    <!-- PWA Manifest -->
    <link rel="manifest" href="../manifest.json">
    <meta name="theme-color" content="#1f314b">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CTSV Attendance">

    <!-- PWA Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="../../assets/images/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/images/icons/icon-192x192.png">
</head>

<body>
    <!-- ===== HEADER - THANH ƒêI·ªÄU H∆Ø·ªöNG CH√çNH ===== -->
    <header class="header">
        <div class="logo">
            <i class="fas fa-clock"></i>
            <span>Attendance</span>
        </div>
        <nav class="nav-menu" aria-label="ƒêi·ªÅu h∆∞·ªõng ch√≠nh">
            <a href="calendar-overview.html" class="nav-item active">L·ªãch t·ªïng</a>
            <a href="../index.html" class="nav-item">L·ªãch c√° nh√¢n</a>
            <div class="dropdown">
                <a href="#" class="dropdown-toggle">
                    Qu·∫£n l√Ω
                    <i class="fas fa-chevron-down"></i>
                </a>
                <div class="dropdown-menu">
                    <a href="operations.html" class="dropdown-item">
                        <i class="fas fa-cogs"></i>
                        V·∫≠n h√†nh
                    </a>
                    <a href="clubs.html" class="dropdown-item">
                        <i class="fas fa-users"></i>
                        T·ªïng quan CLB
                    </a>
                    <a href="clubs-list.html" class="dropdown-item">
                        <i class="fas fa-list"></i>
                        Danh s√°ch CLB
                    </a>
                    <a href="club-organizers.html" class="dropdown-item">
                        <i class="fas fa-user-tie"></i>
                        Ban ch·ªß nhi·ªám
                    </a>
                    <a href="club-members.html" class="dropdown-item">
                        <i class="fas fa-user-friends"></i>
                        Th√†nh vi√™n
                    </a>
                    <a href="club-events.html" class="dropdown-item">
                        <i class="fas fa-calendar-check"></i>
                        S·ª± ki·ªán CLB
                    </a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#" class="dropdown-toggle">
                    C√¢u l·∫°c b·ªô
                    <i class="fas fa-chevron-down"></i>
                </a>
                <div class="dropdown-menu">
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-code"></i>
                        CLB CODEKING
                    </a>
                    <a href="#" class="dropdown-item">
                        <i class="fas fa-star"></i>
                        CLB YUME
                    </a>
                </div>
            </div>
        </nav>

        <!-- ===== SEARCH BAR ===== -->
        <div class="search-container">
            <div class="search-wrapper">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="T√¨m ki·∫øm..." id="headerSearchInput">
                <button class="search-clear" id="searchClearBtn" style="display: none;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="search-dropdown" id="searchDropdown">
                <div class="search-suggestions">
                    <div class="search-category">
                        <h5>G·ª£i √Ω t√¨m ki·∫øm</h5>
                        <div class="suggestion-item" data-search="s·ª± ki·ªán h√¥m nay">
                            <i class="fas fa-calendar-day"></i>
                            <span>S·ª± ki·ªán h√¥m nay</span>
                        </div>
                        <div class="suggestion-item" data-search="l·ªãch CLB">
                            <i class="fas fa-users"></i>
                            <span>L·ªãch CLB</span>
                        </div>
                        <div class="suggestion-item" data-search="h·ªçp ƒë·ªãnh k·ª≥">
                            <i class="fas fa-calendar-check"></i>
                            <span>H·ªçp ƒë·ªãnh k·ª≥</span>
                        </div>
                        <div class="suggestion-item" data-search="s·ª± ki·ªán s·∫Øp t·ªõi">
                            <i class="fas fa-clock"></i>
                            <span>S·ª± ki·ªán s·∫Øp t·ªõi</span>
                        </div>
                        <div class="suggestion-item" data-search="l·ªãch t·ªïng quan">
                            <i class="fas fa-calendar-alt"></i>
                            <span>L·ªãch t·ªïng quan</span>
                        </div>
                    </div>
                    <div class="search-category">
                        <h5>T√¨m ki·∫øm nhanh</h5>
                        <div class="suggestion-item" data-action="add-event">
                            <i class="fas fa-plus"></i>
                            <span>Th√™m s·ª± ki·ªán</span>
                        </div>
                        <div class="suggestion-item" data-action="export-calendar">
                            <i class="fas fa-download"></i>
                            <span>Xu·∫•t l·ªãch</span>
                        </div>
                        <div class="suggestion-item" data-action="calendar-settings">
                            <i class="fas fa-cog"></i>
                            <span>C√†i ƒë·∫∑t l·ªãch</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="user-actions">
            <div class="user-profile-dropdown">
                <div class="user-avatar-btn" id="userProfileBtn">
                    <img src="../../assets/images/avata/avata_admin.jpg" alt="Admin Avatar" class="user-avatar-img">
                    <i class="fas fa-user-circle user-avatar-fallback"></i>
                </div>
                <div class="profile-dropdown-menu" id="profileDropdown">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <img src="../../assets/images/avata/avata_admin.jpg" alt="Admin Avatar"
                                class="profile-avatar-img">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="profile-info">
                            <h4>Nguy·ªÖn VƒÉn Admin</h4>
                            <p>admin@ctsv.edu.vn</p>
                            <span class="profile-role">Qu·∫£n tr·ªã vi√™n</span>
                        </div>
                    </div>
                    <div class="profile-divider"></div>
                    <div class="profile-menu">
                        <a href="profile.html" class="profile-menu-item">
                            <i class="fas fa-user"></i>
                            <span>H·ªì s∆° c√° nh√¢n</span>
                        </a>
                        <button type="button" class="profile-menu-item" onclick="openSettingsModal()">
                            <i class="fas fa-cog"></i>
                            <span>C√†i ƒë·∫∑t t√†i kho·∫£n</span>
                        </button>
                        <div class="profile-divider"></div>
                        <button type="button" class="profile-menu-item" onclick="openHelpModal()">
                            <i class="fas fa-question-circle"></i>
                            <span>Tr·ª£ gi√∫p</span>
                        </button>
                        <button type="button" class="profile-menu-item" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>ƒêƒÉng xu·∫•t</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="settings-dropdown">
                <i class="fas fa-cog settings-icon" id="settingsBtn"></i>
                <div class="settings-dropdown-menu" id="settingsDropdown">
                    <div class="settings-header">
                        <h4><i class="fas fa-cog"></i> C√†i ƒë·∫∑t l·ªãch t·ªïng quan</h4>
                        <p>T√πy ch·ªânh giao di·ªán v√† ch·ª©c nƒÉng l·ªãch</p>
                    </div>

                    <div class="settings-menu">
                        <button type="button" class="settings-menu-item" onclick="openSettingsSection('calendar-view')">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Ch·∫ø ƒë·ªô xem l·ªãch</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button type="button" class="settings-menu-item" onclick="openSettingsSection('event-filters')">
                            <i class="fas fa-filter"></i>
                            <span>B·ªô l·ªçc s·ª± ki·ªán</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button type="button" class="settings-menu-item" onclick="openSettingsSection('notifications')">
                            <i class="fas fa-bell"></i>
                            <span>Th√¥ng b√°o s·ª± ki·ªán</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button type="button" class="settings-menu-item" onclick="openSettingsSection('calendar-sync')">
                            <i class="fas fa-sync-alt"></i>
                            <span>ƒê·ªìng b·ªô l·ªãch</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button type="button" class="settings-menu-item" onclick="openSettingsSection('export-import')">
                            <i class="fas fa-exchange-alt"></i>
                            <span>Xu·∫•t/Nh·∫≠p d·ªØ li·ªáu</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <div class="settings-footer">
                        <button class="settings-btn reset-btn" onclick="resetCalendarSettings()">
                            <i class="fas fa-undo"></i>
                            <span>Kh√¥i ph·ª•c m·∫∑c ƒë·ªãnh</span>
                        </button>
                        <button class="settings-btn export-btn" onclick="exportCalendarData()">
                            <i class="fas fa-download"></i>
                            <span>Xu·∫•t d·ªØ li·ªáu</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- ===== CONTAINER CH√çNH ===== -->
    <div class="container">
        <!-- L·ªõp ph·ªß sidebar cho thi·∫øt b·ªã di ƒë·ªông -->
        <div class="sidebar-overlay" id="sidebarOverlay"></div>

        <!-- ===== THANH ƒêI·ªÄU H∆Ø·ªöNG B√äN TR√ÅI ===== -->
        <aside class="sidebar">
            <!-- Ti√™u ƒë·ªÅ sidebar v·ªõi th√¥ng tin vai tr√≤ -->
            <div class="sidebar-header">
                <div class="user-role-info">
                    <div class="role-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <div class="role-details">
                        <h4>Nguy·ªÖn VƒÉn Admin</h4>
                        <span class="role-badge admin">üëë Boss/Admin</span>
                    </div>
                </div>
            </div>

            <!-- ===== MENU ƒêI·ªÄU H∆Ø·ªöNG ===== -->
            <nav class="sidebar-nav" aria-label="Menu ƒëi·ªÅu h∆∞·ªõng ch√≠nh">
                <!-- PH·∫¶N T·ªîNG QUAN -->
                <div class="nav-section">
                    <div class="section-header" data-section="overview">
                        <div class="section-title">
                            <i class="fas fa-chart-line"></i>
                            <span>T·ªïng quan</span>
                        </div>
                        <i class="fas fa-chevron-down section-arrow"></i>
                    </div>
                    <ul class="nav-submenu">
                        <!-- Dashboard ch√≠nh -->
                        <li class="nav-item">
                            <a href="dashboard.html" class="nav-link" title="Trang t·ªïng quan ch√≠nh">
                                <i class="fas fa-tachometer-alt"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>
                        <!-- Th·ªëng k√™ c√° nh√¢n -->
                        <li class="nav-item">
                            <a href="personal-stats.html" class="nav-link" title="Xem b√°o c√°o v√† th·ªëng k√™ c√° nh√¢n">
                                <i class="fas fa-chart-bar"></i>
                                <span>Th·ªëng k√™ c√° nh√¢n</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- PH·∫¶N L·ªäCH & CH·∫§M C√îNG -->
                <div class="nav-section">
                    <div class="section-header" data-section="attendance">
                        <div class="section-title">
                            <i class="fas fa-calendar-check"></i>
                            <span>L·ªãch & Ch·∫•m c√¥ng</span>
                        </div>
                        <i class="fas fa-chevron-down section-arrow"></i>
                    </div>
                    <ul class="nav-submenu">
                        <!-- L·ªãch t·ªïng quan -->
                        <li class="nav-item active">
                            <a href="calendar-overview.html" class="nav-link" title="Xem l·ªãch l√†m vi·ªác t·ªïng quan">
                                <i class="fas fa-calendar-alt"></i>
                                <span>L·ªãch t·ªïng quan</span>
                            </a>
                        </li>
                        <!-- L·ªãch c√° nh√¢n -->
                        <li class="nav-item">
                            <a href="../index.html" class="nav-link" title="Xem l·ªãch c√° nh√¢n">
                                <i class="fas fa-calendar"></i>
                                <span>L·ªãch c√° nh√¢n</span>
                            </a>
                        </li>
                        <!-- Ch·∫•m c√¥ng -->
                        <li class="nav-item">
                            <a href="operations.html" class="nav-link" title="Th·ª±c hi·ªán check-in/check-out">
                                <i class="fas fa-clock"></i>
                                <span>Check-in/Check-out</span>
                            </a>
                        </li>
                        <!-- Qu·∫£n l√Ω ngh·ªâ ph√©p -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="ƒêƒÉng k√Ω v√† qu·∫£n l√Ω ngh·ªâ ph√©p">
                                <i class="fas fa-user-clock"></i>
                                <span>Ngh·ªâ ph√©p / Xin ngh·ªâ</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- C√¢u l·∫°c b·ªô -->
                <div class="nav-section">
                    <div class="section-header" data-section="clubs">
                        <div class="section-title">
                            <i class="fas fa-users"></i>
                            <span>C√¢u l·∫°c b·ªô</span>
                        </div>
                        <i class="fas fa-chevron-down section-arrow"></i>
                    </div>
                    <ul class="nav-submenu">
                        <li class="nav-item">
                            <a href="clubs.html" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span>T·ªïng quan CLB</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="clubs-list.html" class="nav-link">
                                <i class="fas fa-list"></i>
                                <span>Danh s√°ch CLB</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="club-organizers.html" class="nav-link">
                                <i class="fas fa-crown"></i>
                                <span>Ban ch·ªß nhi·ªám</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="club-members.html" class="nav-link">
                                <i class="fas fa-user-friends"></i>
                                <span>Th√†nh vi√™n</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="club-events.html" class="nav-link">
                                <i class="fas fa-calendar-star"></i>
                                <span>S·ª± ki·ªán CLB</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- PH·∫¶N QU·∫¢N L√ù NH√ìM -->
                <div class="nav-section">
                    <div class="section-header" data-section="management">
                        <div class="section-title">
                            <i class="fas fa-users-cog"></i>
                            <span>Qu·∫£n l√Ω nh√≥m</span>
                        </div>
                        <i class="fas fa-chevron-down section-arrow"></i>
                    </div>
                    <ul class="nav-submenu">
                        <!-- Qu·∫£n l√Ω c·ªông t√°c vi√™n -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Qu·∫£n l√Ω danh s√°ch c·ªông t√°c vi√™n">
                                <i class="fas fa-handshake"></i>
                                <span>C·ªông t√°c vi√™n</span>
                            </a>
                        </li>
                        <!-- Ph√¢n c√¥ng nhi·ªám v·ª• -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Ph√¢n c√¥ng v√† theo d√µi nhi·ªám v·ª•">
                                <i class="fas fa-tasks"></i>
                                <span>Ph√¢n c√¥ng nhi·ªám v·ª•</span>
                            </a>
                        </li>
                        <!-- Duy·ªát b√°o c√°o -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Xem x√©t v√† ph√™ duy·ªát b√°o c√°o">
                                <i class="fas fa-check-circle"></i>
                                <span>Duy·ªát b√°o c√°o</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- PH·∫¶N QU·∫¢N L√ù H·ªÜ TH·ªêNG (CH·ªà ADMIN) -->
                <div class="nav-section admin-section">
                    <div class="section-header" data-section="admin">
                        <div class="section-title">
                            <i class="fas fa-shield-alt"></i>
                            <span>Qu·∫£n l√Ω h·ªá th·ªëng</span>
                            <span class="admin-badge">ADMIN</span>
                        </div>
                        <i class="fas fa-chevron-down section-arrow"></i>
                    </div>
                    <ul class="nav-submenu">
                        <!-- Qu·∫£n l√Ω ng∆∞·ªùi d√πng -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Qu·∫£n l√Ω t√†i kho·∫£n ng∆∞·ªùi d√πng">
                                <i class="fas fa-users-cog"></i>
                                <span>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</span>
                            </a>
                        </li>
                        <!-- Xu·∫•t b√°o c√°o t·ªïng h·ª£p -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="T·∫°o v√† xu·∫•t b√°o c√°o t·ªïng h·ª£p">
                                <i class="fas fa-file-export"></i>
                                <span>Xu·∫•t b√°o c√°o</span>
                            </a>
                        </li>
                        <!-- C√†i ƒë·∫∑t ph√¢n quy·ªÅn -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Qu·∫£n l√Ω quy·ªÅn h·∫°n v√† vai tr√≤">
                                <i class="fas fa-cogs"></i>
                                <span>C√†i ƒë·∫∑t h·ªá th·ªëng</span>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- PH·∫¶N H·ªñ TR·ª¢ -->
                <div class="nav-section">
                    <div class="section-header" data-section="support">
                        <div class="section-title">
                            <i class="fas fa-life-ring"></i>
                            <span>H·ªó tr·ª£</span>
                        </div>
                        <i class="fas fa-chevron-down section-arrow"></i>
                    </div>
                    <ul class="nav-submenu">
                        <!-- H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Xem h∆∞·ªõng d·∫´n chi ti·∫øt">
                                <i class="fas fa-question-circle"></i>
                                <span>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</span>
                            </a>
                        </li>
                        <!-- Video h∆∞·ªõng d·∫´n -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="Xem video gi·ªõi thi·ªáu ch·ª©c nƒÉng">
                                <i class="fas fa-video"></i>
                                <span>Video gi·ªõi thi·ªáu</span>
                            </a>
                        </li>
                        <!-- T√†i nguy√™n t·∫£i v·ªÅ -->
                        <li class="nav-item">
                            <a href="#" class="nav-link" title="T·∫£i v·ªÅ t√†i li·ªáu v√† m·∫´u bi·ªÉu">
                                <i class="fas fa-download"></i>
                                <span>T√†i nguy√™n t·∫£i v·ªÅ</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- ===== CH√ÇN SIDEBAR ===== -->
            <div class="sidebar-footer">
                <div class="version-info">
                    <small>L·ªãch T·ªïng Quan v2.1.0</small>
                    <br>
                    <small>¬© 2025 CTSV System</small>
                </div>
            </div>
        </aside>

        <!-- ===== N·ªòI DUNG CH√çNH ===== -->
        <main class="main-content">
            <!-- ===== B·∫¢NG ƒêI·ªÄU KHI·ªÇN DASHBOARD ===== -->
            <div class="dashboard-grid">
                <!-- CARD C√îNG VI·ªÜC TRONG TH√ÅNG -->
                <div class="card workflow-card">
                    <!-- Ti√™u ƒë·ªÅ card -->
                    <div class="card-header">
                        <h3><i class="fas fa-tasks"></i> L·ªãch t·ªïng quan trong th√°ng</h3>
                        <div class="card-actions">
                            <button id="refresh-tasks" title="L√†m m·ªõi danh s√°ch s·ª± ki·ªán">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <button id="export-tasks" title="Xu·∫•t d·ªØ li·ªáu l·ªãch">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>

                    <!-- N·ªôi dung card -->
                    <div class="workflow-content">
                        <!-- T·ªïng quan s·ªë li·ªáu -->
                        <div class="tasks-summary">
                            <div class="summary-item">
                                <div class="summary-number" id="total-events">42</div>
                                <div class="summary-label">T·ªïng s·ª± ki·ªán</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-number" id="completed-events">8</div>
                                <div class="summary-label">ƒê√£ ho√†n th√†nh</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-number" id="pending-events">4</div>
                                <div class="summary-label">ƒêang di·ªÖn ra</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-number" id="upcoming-events">1</div>
                                <div class="summary-label">S·∫Øp di·ªÖn ra</div>
                            </div>
                        </div>

                        <!-- Timeline c√¥ng vi·ªác theo ng√†y -->
                        <div class="tasks-timeline" id="tasks-timeline">
                            <!-- Danh s√°ch s·ª± ki·ªán theo ng√†y s·∫Ω ƒë∆∞·ª£c t·∫°o b·ªüi JavaScript -->
                            <div class="no-tasks-message">
                                <i class="fas fa-calendar-plus"></i>
                                <p>Ch∆∞a c√≥ s·ª± ki·ªán n√†o trong th√°ng n√†y</p>
                                <small>Click v√†o ng√†y trong l·ªãch ƒë·ªÉ th√™m s·ª± ki·ªán m·ªõi</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- L·ªãch c√¥ng t√°c -->
                <div class="card calendar-card">
                    <div class="card-header">
                        <h3><span id="current-month-year">08/2025</span> L·ªãch t·ªïng quan</h3>
                        <div class="card-actions">
                            <button id="prev-month"><i class="fas fa-chevron-left"></i></button>
                            <button id="next-month"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar-content">
                        <div class="calendar-header">
                            <div class="day-header">Ch·ªß nh·∫≠t</div>
                            <div class="day-header">Th·ª© 2</div>
                            <div class="day-header">Th·ª© 3</div>
                            <div class="day-header">Th·ª© 4</div>
                            <div class="day-header">Th·ª© 5</div>
                            <div class="day-header">Th·ª© 6</div>
                            <div class="day-header">Th·ª© 7</div>
                        </div>
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Calendar dates will be generated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng tin ng√†y hi·ªán t·∫°i -->
                <div class="card today-info-card">
                    <div class="card-header">
                        <h3 id="today-date">S·ª± ki·ªán n·ªïi b·∫≠t</h3>
                        <div class="card-actions">
                            <i class="fas fa-ellipsis-h"></i>
                        </div>
                    </div>
                    <div class="today-content">
                        <div class="today-item">
                            <strong>1. S·ª± ki·ªán t·ªïng quan</strong>
                            <p>‚óè Theo d√µi v√† qu·∫£n l√Ω l·ªãch l√†m vi·ªác c·ªßa t·∫•t c·∫£ c·ªông t√°c vi√™n trong h·ªá th·ªëng.</p>
                            <p>‚óè T·ªïng h·ª£p b√°o c√°o ho·∫°t ƒë·ªông v√† hi·ªáu su·∫•t l√†m vi·ªác theo t·ª´ng b·ªô ph·∫≠n:</p>
                            <p>- CTSV, C√¢u l·∫°c b·ªô CODEKING, C√¢u l·∫°c b·ªô YUME, Ban ch·ªß nhi·ªám c√°c CLB</p>
                            <p>- Th·ªëng k√™ tham gia s·ª± ki·ªán, t·ª∑ l·ªá ho√†n th√†nh v√† ƒë√°nh gi√° hi·ªáu su·∫•t</p>
                        </div>
                    </div>
                </div>

                <!-- B·ªô l·ªçc s·ª± ki·ªán -->
                <div class="card todo-card">
                    <div class="card-header">
                        <h3>B·ªô l·ªçc s·ª± ki·ªán</h3>
                        <div class="card-actions">
                            <button id="add-filter"><i class="fas fa-plus"></i></button>
                        </div>
                    </div>
                    <div class="todo-content">
                        <div class="todo-item">
                            <input type="checkbox" id="filter-meetings" checked>
                            <label for="filter-meetings">Cu·ªôc h·ªçp</label>
                        </div>
                        <div class="todo-item">
                            <input type="checkbox" id="filter-events" checked>
                            <label for="filter-events">S·ª± ki·ªán CLB</label>
                        </div>
                        <div class="todo-item">
                            <input type="checkbox" id="filter-training">
                            <label for="filter-training">ƒê√†o t·∫°o</label>
                        </div>
                        <div class="todo-item">
                            <input type="checkbox" id="filter-deadlines">
                            <label for="filter-deadlines">Deadline</label>
                        </div>
                    </div>
                </div>

                <!-- Th√¥ng b√°o h·ªá th·ªëng -->
                <div class="card approval-card">
                    <div class="card-header">
                        <h3>Th√¥ng b√°o h·ªá th·ªëng</h3>
                        <div class="card-actions">
                            <i class="fas fa-ellipsis-h"></i>
                        </div>
                    </div>
                    <div class="approval-content">
                        <div class="notification-item">
                            <div class="notification-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="notification-content">
                                <p><strong>C·∫≠p nh·∫≠t l·ªãch t·ªïng quan</strong></p>
                                <p>H·ªá th·ªëng ƒë√£ ƒë·ªìng b·ªô th√†nh c√¥ng v·ªõi l·ªãch c√° nh√¢n</p>
                                <small>2 gi·ªù tr∆∞·ªõc</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Th·ªëng k√™ tham gia -->
                <div class="card messages-card">
                    <div class="card-header">
                        <h3>Th·ªëng k√™ tham gia</h3>
                        <div class="card-actions">
                            <i class="fas fa-ellipsis-h"></i>
                        </div>
                    </div>
                    <div class="messages-content">
                        <div class="stats-item">
                            <div class="stat-row">
                                <span class="stat-name">CTV tham gia:</span>
                                <span class="stat-value">156 ng∆∞·ªùi</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">T·ª∑ l·ªá ho√†n th√†nh:</span>
                                <span class="stat-value">94%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-name">S·ª± ki·ªán trong tu·∫ßn:</span>
                                <span class="stat-value">12 s·ª± ki·ªán</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Event Details Modal -->
    <div class="modal-overlay" id="eventModalOverlay">
        <div class="event-modal" id="eventModal">
            <div class="modal-header">
                <h3 id="eventModalTitle">Chi ti·∫øt s·ª± ki·ªán</h3>
                <button class="modal-close" id="eventModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="eventModalBody">
                <!-- Event details will be populated here -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="eventModalCancel">ƒê√≥ng</button>
                <button class="btn btn-primary" id="eventModalEdit">Ch·ªânh s·ª≠a</button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Event Modal -->
    <div class="modal-overlay" id="addEventModalOverlay">
        <div class="event-modal" id="addEventModal">
            <div class="modal-header">
                <h3 id="addEventModalTitle">Th√™m s·ª± ki·ªán m·ªõi</h3>
                <button class="modal-close" id="addEventModalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="eventForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventTitle">Ti√™u ƒë·ªÅ s·ª± ki·ªán *</label>
                            <input type="text" id="eventTitle" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="eventGroup">Nh√≥m *</label>
                            <select id="eventGroup" name="group" required>
                                <option value="">Ch·ªçn nh√≥m</option>
                                <option value="ctsv">CTSV</option>
                                <option value="ctv">CTV</option>
                                <option value="ban-chu-nhiem">Ban ch·ªß nhi·ªám</option>
                                <option value="clb-codeking">CLB CODEKING</option>
                                <option value="clb-yume">CLB YUME</option>
                                <option value="personal">C√° nh√¢n</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventType">Lo·∫°i s·ª± ki·ªán *</label>
                            <select id="eventType" name="type" required>
                                <option value="">Ch·ªçn lo·∫°i</option>
                                <option value="meeting">H·ªçp</option>
                                <option value="training">ƒê√†o t·∫°o</option>
                                <option value="event">S·ª± ki·ªán</option>
                                <option value="deadline">Deadline</option>
                                <option value="personal">C√° nh√¢n</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="eventPriority">ƒê·ªô ∆∞u ti√™n</label>
                            <select id="eventPriority" name="priority">
                                <option value="low">Th·∫•p</option>
                                <option value="medium" selected>Trung b√¨nh</option>
                                <option value="high">Cao</option>
                                <option value="urgent">Kh·∫©n c·∫•p</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventDate">Ng√†y *</label>
                            <input type="date" id="eventDate" name="date" required>
                        </div>
                        <div class="form-group">
                            <label for="eventStartTime">Gi·ªù b·∫Øt ƒë·∫ßu *</label>
                            <input type="time" id="eventStartTime" name="startTime" required>
                        </div>
                        <div class="form-group">
                            <label for="eventEndTime">Gi·ªù k·∫øt th√∫c *</label>
                            <input type="time" id="eventEndTime" name="endTime" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="eventLocation">ƒê·ªãa ƒëi·ªÉm</label>
                        <input type="text" id="eventLocation" name="location" placeholder="Nh·∫≠p ƒë·ªãa ƒëi·ªÉm t·ªï ch·ª©c">
                    </div>
                    <div class="form-group">
                        <label for="eventDescription">M√¥ t·∫£</label>
                        <textarea id="eventDescription" name="description" rows="3"
                            placeholder="M√¥ t·∫£ chi ti·∫øt v·ªÅ s·ª± ki·ªán..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="eventParticipants">Ng∆∞·ªùi tham gia</label>
                        <input type="text" id="eventParticipants" name="participants"
                            placeholder="Nh·∫≠p t√™n ng∆∞·ªùi tham gia (c√°ch nhau b·∫±ng d·∫•u ph·∫©y)">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="eventAllDay" name="allDay">
                            S·ª± ki·ªán c·∫£ ng√†y
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="eventReminder" name="reminder" checked>
                            Nh·∫Øc nh·ªü tr∆∞·ªõc 15 ph√∫t
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="addEventModalCancel">H·ªßy</button>
                <button class="btn btn-primary" id="addEventModalSave">L∆∞u</button>
            </div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
        </div>
    </div>

    <script src="../../assets/js/calendar-overview.js"></script>
    <script src="../../assets/js/calendar-dashboard-integration.js"></script>
    <script src="../../assets/js/dashboard-interactive.js"></script>
    <script src="../../assets/js/dashboard-modern.js"></script>
    <script src="../../assets/js/dashboard.js"></script>
    <script>
        // Initialize calendar when page loads
        document.addEventListener('DOMContentLoaded', function () {
            // Initialize dashboard functionality
            if (typeof DashboardManager !== 'undefined') {
                const dashboard = new DashboardManager();
                dashboard.init();
            }

            // Initialize interactive features
            if (typeof DashboardInteractive !== 'undefined') {
                const interactive = new DashboardInteractive();
                interactive.init();
            }

            // Initialize calendar
            const calendar = new CalendarOverview();
            calendar.init();

            // Update page title in sidebar
            updateActiveNavItem('calendar-overview.html');
        });

        // Handle avatar error
        function handleAvatarError(img) {
            img.style.display = 'none';
            const fallback = img.nextElementSibling;
            if (fallback && fallback.tagName === 'I') {
                fallback.style.display = 'block';
            }
        }

        // Search functionality
        function handleSearch(value) {
            // Implement calendar-specific search
            console.log('Searching for:', value);
        }

        function handleSearchKeydown(event) {
            if (event.key === 'Enter') {
                const value = event.target.value.trim();
                if (value) {
                    handleSearch(value);
                }
            }
        }

        function showSearchSuggestions() {
            document.getElementById('searchSuggestions').style.display = 'block';
        }

        function hideSearchSuggestions() {
            setTimeout(() => {
                document.getElementById('searchSuggestions').style.display = 'none';
            }, 200);
        }

        function clearSearch() {
            document.getElementById('globalSearch').value = '';
            document.getElementById('searchClear').style.display = 'none';
        }

        function searchFor(query) {
            document.getElementById('globalSearch').value = query;
            handleSearch(query);
        }

        // Calendar-specific functions
        function openCalendarSettings() {
            console.log('Opening calendar settings...');
        }

        function exportCalendar() {
            console.log('Exporting calendar...');
        }

        function updateActiveNavItem(currentPage) {
            // Update active navigation item
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                if (link.getAttribute('href') && link.getAttribute('href').includes(currentPage)) {
                    link.closest('.nav-item').classList.add('active');
                    // Expand parent section
                    const section = link.closest('.nav-section');
                    if (section) {
                        const header = section.querySelector('.section-header');
                        if (header) {
                            header.classList.remove('collapsed');
                        }
                    }
                } else {
                    link.closest('.nav-item').classList.remove('active');
                }
            });
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            updateActiveNavItem('calendar-overview.html');
            initializeCalendarOverview();
        });
    </script>

    <!-- ===== JAVASCRIPT FILES ===== -->
    <script src="../../assets/js/profile-avatar-manager.js"></script>
    <script src="../../assets/js/profile-dropdown.js"></script>
    <script src="../../assets/js/calendar-overview.js"></script>
    <script src="../../assets/js/calendar-dashboard-integration.js"></script>
    <script src="../../utils/pwa-manager.js"></script>
</body>

</html>
