<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light">
    <title>Thống kê cá nhân - Hệ thống chấm công CTSV</title>
    <meta name="description" content="Thống kê và phân tích hiệu suất cá nhân trong hệ thống chấm công CTSV">
    <link rel="icon" type="image/x-icon" href="../../assets/images/imageCLB/LOGO_CODEKING/LOGO CODEKING.png">

    <!-- Modern Statistics Stylesheet -->
    <link rel="stylesheet" href="statistics.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="dashboard-container">
        <!-- Enhanced Header synchronized with Dashboard -->
        <header class="dashboard-header">
            <div class="header-left">
                <button class="mobile-menu-btn" id="mobileMenuBtn" title="Menu">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="logo">
                    <i class="fas fa-chart-line"></i>
                    <span>Thống kê cá nhân</span>
                </div>
            </div>

            <div class="header-center">
                <div class="search-box">
                    <input type="text" id="globalSearch" placeholder="Tìm kiếm thống kê, báo cáo..." autocomplete="off">
                    <button type="button" id="searchBtn" title="Tìm kiếm">
                        <i class="fas fa-search"></i>
                    </button>
                    <div class="search-results" id="searchResults"></div>
                </div>
            </div>

            <div class="header-right">
                <div class="header-actions">
                    <button class="action-btn" id="notificationBtn" title="Thông báo">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </button>
                    <button class="action-btn" id="messageBtn" title="Tin nhắn">
                        <i class="fas fa-envelope"></i>
                        <span class="badge">5</span>
                    </button>
                    <button class="action-btn" id="settingsBtn" title="Cài đặt">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>

                <!-- Enhanced User Menu -->
                <div class="user-menu" id="userMenu">
                    <div class="user-avatar">
                        <img src="../../assets/images/avata/avata_admin.jpg" alt="User Avatar">
                        <div class="status-indicator online"></div>
                    </div>
                    <div class="user-info">
                        <div class="user-name">Nguyễn Văn A</div>
                        <div class="user-role">Thành viên</div>
                    </div>
                    <i class="fas fa-chevron-down dropdown-icon"></i>

                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-section">
                            <h6 class="dropdown-title">Tài khoản</h6>
                            <a href="../profile/profile.html" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                <span>Hồ sơ cá nhân</span>
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-chart-bar"></i>
                                <span>Báo cáo chi tiết</span>
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-cog"></i>
                                <span>Cài đặt</span>
                            </a>
                        </div>
                        <hr class="dropdown-divider">
                        <div class="dropdown-section">
                            <h6 class="dropdown-title">Điều hướng</h6>
                            <a href="../operations/operations.html" class="dropdown-item">
                                <i class="fas fa-cogs"></i>
                                <span>Vận hành hệ thống</span>
                            </a>
                            <a href="../dashboard/dashboard.html" class="dropdown-item">
                                <i class="fas fa-tachometer-alt"></i>
                                <span>Dashboard</span>
                            </a>
                        </div>
                        <hr class="dropdown-divider">
                        <div class="dropdown-section">
                            <a href="../../index.html" class="dropdown-item logout">
                                <i class="fas fa-sign-out-alt"></i>
                                <span>Đăng xuất</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-chart-line"></i>
                    <span>Thống kê</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-angle-left"></i>
                </button>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../dashboard/dashboard.html" class="nav-link">
                                <i class="fas fa-home"></i>
                                <span class="nav-text">Trang chủ</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="../operations/operations.html" class="nav-link">
                                <i class="fas fa-cogs"></i>
                                <span class="nav-text">Vận hành</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-users"></i>
                        <span>CLB & Sự kiện</span>
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../CLB/clubs-list.html" class="nav-link">
                                <i class="fas fa-list"></i>
                                <span class="nav-text">Danh sách CLB</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="../CLB/club-events.html" class="nav-link">
                                <i class="fas fa-calendar-check"></i>
                                <span class="nav-text">Sự kiện CLB</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-chart-bar"></i>
                        <span>Thống kê & Báo cáo</span>
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item active">
                            <a href="#" class="nav-link">
                                <i class="fas fa-chart-line"></i>
                                <span class="nav-text">Thống kê cá nhân</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fas fa-chart-bar"></i>
                                <span class="nav-text">Báo cáo tổng quan</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fas fa-file-alt"></i>
                                <span class="nav-text">Xuất báo cáo</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">
                        <i class="fas fa-user"></i>
                        <span>Cá nhân</span>
                    </div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../profile/profile.html" class="nav-link">
                                <i class="fas fa-user-circle"></i>
                                <span class="nav-text">Hồ sơ cá nhân</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">
                                <i class="fas fa-cog"></i>
                                <span class="nav-text">Cài đặt</span>
                                <i class="fas fa-angle-right nav-arrow"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="page-title">
                        <h1>
                            <i class="fas fa-chart-line"></i>
                            Thống kê cá nhân
                        </h1>
                        <p class="page-subtitle">Theo dõi và phân tích hiệu suất cá nhân của bạn</p>
                    </div>
                    <div class="page-actions">
                        <div class="filter-controls">
                            <select id="timeRange" class="filter-select">
                                <option value="week">7 ngày qua</option>
                                <option value="month" selected>30 ngày qua</option>
                                <option value="quarter">3 tháng qua</option>
                                <option value="year">12 tháng qua</option>
                            </select>
                            <button class="btn btn-outline" id="refreshBtn">
                                <i class="fas fa-sync-alt"></i>
                                <span>Làm mới</span>
                            </button>
                            <button class="btn btn-primary" id="exportBtn">
                                <i class="fas fa-download"></i>
                                <span>Xuất báo cáo</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Overview Cards -->
                <div class="overview-section">
                    <div class="overview-grid">
                        <div class="overview-card attendance-rate">
                            <div class="card-header">
                                <div class="card-icon success">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="card-trend up">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+2.1%</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="stat-value">96.5%</h3>
                                <p class="stat-label">Tỷ lệ chấm công</p>
                                <div class="stat-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 96.5%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="overview-card work-hours">
                            <div class="card-header">
                                <div class="card-icon primary">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="card-trend up">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+0.3h</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="stat-value">8.2 <small>giờ</small></h3>
                                <p class="stat-label">Trung bình mỗi ngày</p>
                                <div class="stat-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 82%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="overview-card events-participated">
                            <div class="card-header">
                                <div class="card-icon warning">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="card-trend up">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+5</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="stat-value">15</h3>
                                <p class="stat-label">Sự kiện tham gia</p>
                                <div class="stat-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 75%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="overview-card performance-score">
                            <div class="card-header">
                                <div class="card-icon info">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="card-trend up">
                                    <i class="fas fa-arrow-up"></i>
                                    <span>+0.1</span>
                                </div>
                            </div>
                            <div class="card-content">
                                <h3 class="stat-value">9.2<small>/10</small></h3>
                                <p class="stat-label">Điểm hiệu suất</p>
                                <div class="stat-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 92%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Detailed Statistics -->
                <div class="stats-section">
                    <div class="stats-grid">
                        <!-- Attendance Chart -->
                        <div class="stats-card chart-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <h3><i class="fas fa-chart-line"></i> Thống kê chấm công</h3>
                                    <p>Biểu đồ theo dõi giờ làm việc hàng ngày</p>
                                </div>
                                <div class="card-actions">
                                    <div class="view-toggles">
                                        <button class="toggle-btn active" data-view="chart">
                                            <i class="fas fa-chart-line"></i>
                                        </button>
                                        <button class="toggle-btn" data-view="calendar">
                                            <i class="fas fa-calendar"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="chart-container" id="attendanceChartView">
                                    <canvas id="attendanceChart"></canvas>
                                </div>
                                <div class="calendar-container" id="attendanceCalendarView" style="display: none;">
                                    <div class="calendar-header">
                                        <button class="btn-nav" id="prevMonth">
                                            <i class="fas fa-chevron-left"></i>
                                        </button>
                                        <h4 id="currentMonth">Tháng 12, 2024</h4>
                                        <button class="btn-nav" id="nextMonth">
                                            <i class="fas fa-chevron-right"></i>
                                        </button>
                                    </div>
                                    <div class="calendar-grid" id="calendarGrid">
                                        <!-- Calendar will be generated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Metrics -->
                        <div class="stats-card performance-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <h3><i class="fas fa-trophy"></i> Chỉ số hiệu suất</h3>
                                    <p>Đánh giá chi tiết các khía cạnh hiệu suất</p>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="performance-metrics">
                                    <div class="metric-item">
                                        <div class="metric-info">
                                            <span class="metric-label">Hoàn thành đúng hạn</span>
                                            <span class="metric-value">95.2%</span>
                                        </div>
                                        <div class="metric-bar">
                                            <div class="progress-fill success" style="width: 95.2%"></div>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-info">
                                            <span class="metric-label">Chất lượng công việc</span>
                                            <span class="metric-value">9.1/10</span>
                                        </div>
                                        <div class="metric-bar">
                                            <div class="progress-fill primary" style="width: 91%"></div>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-info">
                                            <span class="metric-label">Tương tác nhóm</span>
                                            <span class="metric-value">8.8/10</span>
                                        </div>
                                        <div class="metric-bar">
                                            <div class="progress-fill info" style="width: 88%"></div>
                                        </div>
                                    </div>
                                    <div class="metric-item">
                                        <div class="metric-info">
                                            <span class="metric-label">Sáng tạo & Đổi mới</span>
                                            <span class="metric-value">8.7/10</span>
                                        </div>
                                        <div class="metric-bar">
                                            <div class="progress-fill warning" style="width: 87%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Goals Progress -->
                        <div class="stats-card goals-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <h3><i class="fas fa-target"></i> Tiến độ mục tiêu</h3>
                                    <p>Theo dõi các mục tiêu cá nhân</p>
                                </div>
                                <button class="btn btn-sm btn-ghost" id="addGoalBtn">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="goals-list">
                                    <div class="goal-item completed">
                                        <div class="goal-icon">
                                            <i class="fas fa-calendar-check"></i>
                                        </div>
                                        <div class="goal-content">
                                            <h4>Chấm công hoàn hảo</h4>
                                            <p>96.5% / 98%</p>
                                            <div class="goal-progress">
                                                <div class="progress-bar">
                                                    <div class="progress-fill" style="width: 98.5%"></div>
                                                </div>
                                                <span>98.5%</span>
                                            </div>
                                        </div>
                                        <div class="goal-badge completed">Gần hoàn thành</div>
                                    </div>

                                    <div class="goal-item in-progress">
                                        <div class="goal-icon">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                        <div class="goal-content">
                                            <h4>Sự kiện tham gia</h4>
                                            <p>15 / 20 sự kiện</p>
                                            <div class="goal-progress">
                                                <div class="progress-bar">
                                                    <div class="progress-fill" style="width: 75%"></div>
                                                </div>
                                                <span>75%</span>
                                            </div>
                                        </div>
                                        <div class="goal-badge in-progress">Đang thực hiện</div>
                                    </div>

                                    <div class="goal-item in-progress">
                                        <div class="goal-icon">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="goal-content">
                                            <h4>Điểm hiệu suất</h4>
                                            <p>9.2 / 10 điểm</p>
                                            <div class="goal-progress">
                                                <div class="progress-bar">
                                                    <div class="progress-fill" style="width: 92%"></div>
                                                </div>
                                                <span>92%</span>
                                            </div>
                                        </div>
                                        <div class="goal-badge in-progress">Đang thực hiện</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Activity Timeline -->
                        <div class="stats-card timeline-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <h3><i class="fas fa-history"></i> Hoạt động gần đây</h3>
                                    <p>Lịch sử hoạt động của bạn</p>
                                </div>
                                <div class="card-actions">
                                    <button class="btn btn-sm btn-ghost">
                                        <i class="fas fa-filter"></i>
                                    </button>
                                    <button class="btn btn-sm btn-ghost">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="activity-timeline">
                                    <div class="timeline-item">
                                        <div class="timeline-marker success">
                                            <i class="fas fa-check"></i>
                                        </div>
                                        <div class="timeline-content">
                                            <div class="timeline-header">
                                                <h5>Hoàn thành dự án Website CLB</h5>
                                                <span class="timeline-time">2 giờ trước</span>
                                            </div>
                                            <p>Đã submit và demo thành công dự án website mới cho CLB CodeKing</p>
                                            <div class="timeline-tags">
                                                <span class="tag success">Dự án</span>
                                                <span class="tag primary">Website</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="timeline-item">
                                        <div class="timeline-marker info">
                                            <i class="fas fa-calendar"></i>
                                        </div>
                                        <div class="timeline-content">
                                            <div class="timeline-header">
                                                <h5>Tham gia họp team</h5>
                                                <span class="timeline-time">5 giờ trước</span>
                                            </div>
                                            <p>Meeting review progress và lên kế hoạch sprint tiếp theo</p>
                                            <div class="timeline-tags">
                                                <span class="tag info">Họp</span>
                                                <span class="tag warning">Sprint</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="timeline-item">
                                        <div class="timeline-marker primary">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="timeline-content">
                                            <div class="timeline-header">
                                                <h5>Chấm công buổi sáng</h5>
                                                <span class="timeline-time">8:30 AM</span>
                                            </div>
                                            <p>Check-in đúng giờ tại trụ sở chính</p>
                                            <div class="timeline-tags">
                                                <span class="tag success">Đúng giờ</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="timeline-item">
                                        <div class="timeline-marker warning">
                                            <i class="fas fa-graduation-cap"></i>
                                        </div>
                                        <div class="timeline-content">
                                            <div class="timeline-header">
                                                <h5>Hoàn thành khóa học JavaScript</h5>
                                                <span class="timeline-time">Hôm qua</span>
                                            </div>
                                            <p>Đạt certificate với điểm số 95/100</p>
                                            <div class="timeline-tags">
                                                <span class="tag success">Học tập</span>
                                                <span class="tag primary">JavaScript</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="statistics.js"></script>
</body>

</html>